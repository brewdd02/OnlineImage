<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Online Image</title>
		<link rel="stylesheet" type="text/css" href="dragDrop.css">
		<script>		
			// getElementById
			function $id(id) 
			{
				return document.getElementById(id);
			}

			// output information
			function Output(msg) 
			{
				var m = $id("messages");
				m.innerHTML = msg + m.innerHTML;
			}
			
			// call initialization file
			if (window.File && window.FileList && window.FileReader) 
			{
				//Init();
			}

			//
			// initialize
			function Init() 
			{
				var fileselect = document.getElementById("fileselect");
				var	filedrag = document.getElementById("filedrag");
				var	submitbutton = document.getElementById("submitbutton");

				// file select
				fileselect.addEventListener("change", FileSelectHandler, false);

				// is XHR2 available?
				var xhr = new XMLHttpRequest();
				if (xhr.upload) 
				{
					// file drop
					filedrag.addEventListener("dragover", FileDragHover, false);
					filedrag.addEventListener("dragleave", FileDragHover, false);
					filedrag.addEventListener("drop", FileSelectHandler, false);
					filedrag.style.display = "block";
					
					// remove submit button
					submitbutton.style.display = "none";
				}
			}
			
			// file drag hover
			function FileDragHover(e) 
			{
				e.stopPropagation();
				e.preventDefault();
				e.target.className = (e.type == "dragover" ? "hover" : "");
			}
			
			// file selection
			function FileSelectHandler(e) 
			{
				// cancel event and hover styling
				FileDragHover(e);

				// fetch FileList object
				var files = e.target.files || e.dataTransfer.files;

				// process all File objects
				for (var i = 0, f; f = files[i]; i++) {
					ParseFile(f);
				}
			}
			
			function ParseFile(file) 
			{
				Output
				(
					"<p>File information: <strong>" + file.name +
					"</strong> type: <strong>" + file.type +
					"</strong> size: <strong>" + file.size +
					"</strong> bytes</p>"
				);
			}
		</script>

		
	</head>
	<body onload="Init()">
		<form id="upload" action="upload.php" method="POST" enctype="multipart/form-data">
			<fieldset>
			<legend>HTML File Upload</legend>
				<div>
					<input type="file" id="fileselect" name="fileselect[]" multiple="multiple" />
					<div id="filedrag">or drop files here</div>
				</div>

				<div id="submitbutton">
					<button type="submit">Upload Files</button>
				</div>
			</fieldset>
		</form>

		<div id="messages">
			<p>Status Messages</p>
		</div>
	</body>
</html>